(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[831],{35217:(e,t,l)=>{Promise.resolve().then(l.bind(l,58131))},58131:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>f});var r=l(95155),s=l(6861);let a=e=>{let t=e.match(/https:\/\/.*?\.(jpg|png|webp)/gi),l=e.match(/https:\/\/.*?\.(mp4|avi|mov)/gi);return{images:t?[...t]:[],videos:l?[...l]:[]}};var n=l(12115);let i=function(e){let t=/(#\w+)/g,l=e.split(/(\s+)/).flatMap(e=>e.split(t));return(0,r.jsx)(n.Fragment,{children:l.map((e,t)=>e.startsWith("#")?(0,r.jsx)("span",{className:"font-bold text-blue-500",children:e},t):(0,r.jsx)("span",{children:e},t))})};var c=l(98590);let d=()=>{let e=(0,n.useContext)(c.b);if(void 0===e)throw Error("useImageOverlay must be used within an ImageOverlayProvider");return e};var o=l(71007),u=l(66766);function m(e){let{profilePicture:t,displayName:l,username:s,content:c,timestamp:m}=e,{setOverlayImage:x}=d(),[g,p]=(0,n.useState)(!1),{mediaUrls:h,textContent:f}=function(e){let t=a(e),l=e;return{mediaUrls:t,textContent:(l=(l=(l=(l=(l=(l=(l=(l=l.replace(/https:\/\/.*\.(jpg|png|mp4|avi|mov|webp)/gi,"")).replace(/(nostr:note[a-zA-Z0-9]{59,65})/g,e=>{let t=e.substring(0,10),l=e.substring(e.length-6);return"".concat(t,"...").concat(l)})).replace(/(nostr:npub[a-zA-Z0-9]{59,65})/g,e=>{let t=e.substring(0,10),l=e.substring(e.length-6);return"".concat(t,"...").concat(l)})).replace(/(https?:\/\/[^\s]{30,})/g,e=>{try{let t=new URL(e).hostname;return"".concat(t,"/...")}catch(t){return"".concat(e.substring(0,25),"...")}})).replace(/\n{3,}/g,"\n\n")).split("\n").map(e=>""===e.trim()?"":e).join("\n")).replace(/\n\n\n+/g,"\n\n")).replace(/[ ]{2,}/g," ")).trim()}}(c),v=f.trim().length>0;return(0,r.jsxs)("div",{className:"flex flex-col gap-2.5 border-gray-200 p-4 transition duration-200 hover:border-gray-300 dark:border-gray-900 dark:bg-black dark:hover:border-gray-800 sm:w-[600px] sm:rounded-2xl sm:border",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"group flex gap-[10px]",children:[t&&!g?(0,r.jsx)(u.default,{src:t||"",alt:"".concat(l,"'s profile picture"),width:40,height:40,onError:()=>p(!0),className:"h-[40px] w-[40px] rounded-full object-cover"}):(0,r.jsx)("div",{className:"flex h-[40px] w-[40px] items-center justify-center rounded-full bg-gray-200 dark:bg-gray-800",children:(0,r.jsx)(o.A,{size:24,className:"text-gray-400"})}),(0,r.jsxs)("div",{className:"flex flex-col gap-px",children:[(0,r.jsx)("p",{className:"text-sm font-bold group-hover:text-blue-500",children:l}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["@",s]})]})]}),(0,r.jsx)("div",{className:"flex items-center gap-[15px] max-sm:gap-2.5",children:(0,r.jsx)("p",{className:"text-right text-sm text-gray-500",children:function(e){if(!e)return"";let t=new Date(1e3*e.created_at),l=t.getFullYear(),r=("0"+(t.getMonth()+1)).slice(-2),s=("0"+t.getDate()).slice(-2),a=t.getHours(),n=a,i=("0"+t.getMinutes()).slice(-2),c="AM";return a>12?(n=a-12,c="PM"):12===a?(n=12,c="PM"):0==a&&(n=12),s+"-"+r+"-"+l+", "+n+":"+i+" "+c}(m)})})]}),v&&(0,r.jsx)("div",{className:"hyphens-auto whitespace-pre-wrap leading-normal",children:i(f)}),(e=>{let{images:t,videos:l}=e;return(null==t?void 0:t.length)||(null==l?void 0:l.length)?(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[t.map((e,t)=>(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)(u.default,{src:e,alt:"Media content ".concat(t+1),onClick:()=>x(e),width:1e3,height:1e3,className:"w-full scale-100 cursor-pointer rounded-xl transition hover:opacity-90 active:scale-[0.98]",onError:()=>p(!0)})},"img-".concat(t))),l.map((e,t)=>(0,r.jsx)("video",{src:e,className:"w-full rounded-[10px]",controls:!0,autoPlay:!0,muted:!0},"video-".concat(t)))]}):null})(h)]})}function x(e){let{filterType:t,maxElements:l}=e,{events:n}=(0,s.zE)({filter:{authors:["9c9f81ed795f0f5efa558932824687d84fc7e6a4cfa6db5d6d3b50fcb7ffaec2"],since:0,kinds:[1],limit:20}}),{data:i}=(0,s.xc)({pubkey:"9c9f81ed795f0f5efa558932824687d84fc7e6a4cfa6db5d6d3b50fcb7ffaec2"});return(0,r.jsx)("div",{className:"flex flex-col items-center gap-[20px] overflow-x-hidden sm:gap-[10px]",children:n.filter(e=>{let{images:l,videos:r}=a(e.content);return"image"===t&&!!(l.length>0)||"video"===t&&!!(r.length>0)||"text"===t&&0===l.length&&0===r.length||"all"===t}).slice(0,l).map(e=>(0,r.jsxs)("div",{children:[(0,r.jsx)(m,{profilePicture:null==i?void 0:i.picture,displayName:null==i?void 0:i.display_name,username:null==i?void 0:i.name,timestamp:e,content:e.content}),(0,r.jsx)("div",{className:"h-px w-full bg-gray-200 dark:bg-gray-800 sm:h-0"})]},e.id))})}var g=l(13052),p=l(6874),h=l.n(p);function f(){return(0,r.jsx)("div",{children:(0,r.jsxs)(c.p,{children:[(0,r.jsx)("nav",{className:"fixed left-0 right-0 top-0 z-50 flex w-full items-center justify-between bg-white/80 backdrop-blur-lg dark:bg-black/80",children:(0,r.jsx)("div",{className:"mx-3 my-3 w-full items-center justify-between sm:mx-20",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)(h(),{href:"/",className:"flex flex-col items-start text-start font-bold leading-snug opacity-50 transition hover:opacity-100",children:["Frederik",(0,r.jsx)("br",{}),"Handberg"]}),(0,r.jsx)(g.A,{className:"opacity-50"}),(0,r.jsx)(h(),{href:"/blog",className:"font-semibold opacity-50 hover:opacity-100",children:"Blog"})]})})}),(0,r.jsx)("div",{className:"mt-24",children:(0,r.jsx)(s.Y$,{relayUrls:["wss://relay.primal.net","wss://relay.damus.io"],debug:!0,children:(0,r.jsx)(x,{filterType:"all"})})})]})})}},98590:(e,t,l)=>{"use strict";l.d(t,{b:()=>a,p:()=>n});var r=l(95155),s=l(12115);let a=(0,s.createContext)({overlayImage:null,setOverlayImage:()=>{}}),n=e=>{let{children:t}=e,[l,n]=(0,s.useState)(null),i=e=>{n(e),e?document.body.style.overflow="hidden":document.body.style.overflow="auto"};return(0,s.useEffect)(()=>{let e=e=>{"Escape"===e.key&&l&&i(null)};return l&&window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[l]),(0,r.jsxs)(a.Provider,{value:{overlayImage:l,setOverlayImage:i},children:[t,l&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 backdrop-blur-sm",onClick:e=>{e.target===e.currentTarget&&i(null)},children:(0,r.jsxs)("div",{className:"relative max-h-full max-w-full overflow-hidden",children:[(0,r.jsx)("button",{className:"absolute right-0 top-0 m-4 rounded-full bg-black/50 px-2 py-1 font-semibold text-white hover:bg-black/95",onClick:()=>i(null),children:"Close"}),(0,r.jsx)("img",{src:l,alt:"Fullscreen",className:"max-h-[90vh] max-w-[90vw] rounded-lg"})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[672,272,441,684,358],()=>t(35217)),_N_E=e.O()}]);